(function(n){"use strict";n.factory("UrlService",["$state","UrlBase",function(n,t){var i=location.origin;return{getAPI:function(n,t){var r=i+"/api/"+n;return r=t?r+"/"+t:r,r.replace("#","")},getAPIAction:function(n,t,r){var u=i+"/api/"+n+"/"+t;return u=r?u+"/"+r:u,u.replace("#","")},getUrl:function(n,i,r){var u=t.get()+n+"/"+i;return r?u:u.replace("#","")},redirect:function(n,t){var r=i+"/#/"+n;t&&(r+="/"+t);window.location=r},redirectBlank:function(n,t){var r=i+"/#/"+n;t&&(r+="/"+t);window.open(r,"_blank")},redirectHome:function(){var n="home",t=i+"/#/app";n&&(t+="/"+n);window.location=t},reload:function(){n.go(n.current,{},{reload:!0})},reloadAll:function(){location.reload()},redirectBack:function(n,t){n=n?n*-1:-1;t||(t=0);setTimeout(function(){window.history.go(n)},t)},hasHistory:function(){return window.history.length>1?!0:!1}}}]);n.factory("UrlBase",function(){return{get:function(){var t=location.href,i=t.substring(0,t.indexOf("/",14));if(i.indexOf("http://localhost")!==-1){var n=location.href,r=location.pathname,u=n.indexOf(r),f=n.indexOf("/",u+1),e=n.substr(0,f);return e+"/"}return i+"/"}}})})(app),function(n){"use strict";n.factory("ApiService",["$http","$state","$rootScope","UrlService","$location","$cookies",function(n,t,i,r,u,f){function h(n,t){return t=t?t:"data",n=n.data,t?n[t]===0||n[t]===!1||n[t]?n[t]:(console.error("Propriedade de retorno nÃ£o encontrada"),{}):n}function c(n,i){return(n=n.data,n.success)?(typeof i=="boolean"&&i&&t.go(t.current.name,{},{reload:!0}),{}):(o(n),i)}function o(n){var i,t,r;if(n&&n.messages){for(i=document.createElement("textarea"),t=0;n.messages.length>t;t++)i.value+="- "+n.messages[t]+"<br/>";r=i.value}}function e(t,r,u,f,e,o,s,h,c,l){var v=typeof c=="boolean"?c:!0,a,y;typeof h=="boolean"&&(v=h);o&&!h&&(h=o);a=null;e?typeof e=="function"?(c=h,h=e,a=u.getAPI(f)):a=s==="get"&&typeof o=="string"||o instanceof String||typeof o=="number"?u.getAPIAction(f,e,o):u.getAPIAction(f,e):a=u.getAPI(f);v&&(i.isLoading=!0);c=!c||v?t.currentLogin?t.currentLogin.token:c:c;y=c?{Authorization:"Bearer "+c}:{};n({method:s,url:a,data:o,headers:y,responseType:l||"json"}).then(function(n){h(n);i.isLoading=!1},function(n){console.error(n.data);h(n);i.isLoading=!1})}function s(n){return n.status===401?u.$$path.indexOf("app")>-1?(i.currentLogin=null,f.remove(i.cookieName),!1):!1:n.status===500?!1:!0}function l(n,t,i){var r=document.createElement("a"),f=new Blob([n],{type:i}),u;window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(f,t):(u=URL.createObjectURL(f),r.href=u,r.download=t,document.body.appendChild(r),r.click(),setTimeout(function(){document.body.removeChild(r);window.URL.revokeObjectURL(u)},0))}return{get:function(t,u,f,o,s){return e(i,n,r,t,u,f,"get",o,s)},getToken:function(t,u,f,o,s){return typeof f=="string"&&(f={value:f}),e(i,n,r,t,u,f,"get",s,o)},getArrayBuffer:function(t,u,f,o,s){return e(i,n,r,t,u,f,"post",o,s,"arraybuffer")},post:function(t,u,f,o,s){return e(i,n,r,t,u,f,"post",o,s)},postToken:function(t,u,f,o,s){return e(i,n,r,t,u,f,"post",s,o)},put:function(t,u,f,o){return e(i,n,r,t,u,f,"put",o)},download:l,getResponseData:function(n,t){if(s(n))return n.data.success?h(n,t):t?(o(n.data),{}):n.data},getResponse:function(n,t){if(s(n))return n.data.success?(c(n,t),!0):(o(n.data),!1)}}}])}(app);app.controller("sidebarCtrl",["$scope","$rootScope",function(){"use strict"}]);